var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire7303;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){let r=n[e];delete n[e];let a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire7303=r);class a{constructor(e,t){this.id=t,this.content=e,this.checked=!1}}const o={data:JSON.parse(localStorage.getItem("notes"))||[],listeners:[],getState(){return this.data},setState(e){this.data=e,localStorage.setItem("notes",JSON.stringify(this.data));for(const e of this.listeners)e()},addNewNote(e){const t=new a(e,this.idGen()),n=this.getState();n.push(t),this.setState(n)},deleteNote(e){const t=this.getState().filter((t=>t.id!==e));this.setState(t)},checkedNote(e,t){const n=this.data.filter((t=>t.id!==e));let r=this.data.find((t=>t.id===e));r.checked=t;const a=n.concat(r);this.setState(a)},idGen(){let e;if(this.getState().length<1)e=1;else{let t=this.getState().map((e=>e.id));const n=Math.max(...t);e=n+1}return this.getState().map((t=>t.id===e))&&e++,e},suscribe(e){this.listeners.push(e)}};var c;r.register("vNK0r",(function(e,t){var n,r,a,o,c;n=e.exports,r="getBundleURL",a=()=>c,o=e=>c=e,Object.defineProperty(n,r,{get:a,set:o,enumerable:!0,configurable:!0});var s=null;function i(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}c=function(){return s||(s=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return i(e[0])}return"/"}()),s}})),c=r("vNK0r").getBundleURL()+"delete.02d7e755.svg";let s=o.getState();function i(e){let t=e.lastState;t=t.sort(((e,t)=>e.checked>t.checked?1:e.checked<t.checked?-1:0));const n=document.createElement("div");n.className="card-box";const r=document.createElement("style");r.textContent="\n    .card-box{\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      margin: 0 20px;\n      justify-content: space-around;\n    }\n  ";const a=t.map((e=>`\n      <card-note id="${e.id}" checked="${e.checked}">${e.content}</card-note>\n  `));return n.innerHTML=a.join(""),n.appendChild(r),n}o.suscribe((()=>{if(s!==o.getState()){const e=document.querySelector("#root");e.firstChild?.remove(),e.appendChild(i({lastState:o.getState()}))}}));const d=[{path:/\//,component:i}];!function(e){function t(t){for(const n of d)if(n.path.test(t)){const t=n.component({lastState:o.getState()});e.firstChild&&e.firstChild.remove(),e.appendChild(t)}}var n;"/"==location.pathname?(n="/",history.pushState({},"",n),t(n)):t(location.pathname),window.onpopstate=function(e){t(location.pathname)}}(document.querySelector("#root")),function(){class e extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render();var e=document.createElement("style");e.textContent="\n      *{\n        box-sizing:border-box;\n      }\n      .card{\n        background-color: #FFF599;\n        display: flex;\n        height: auto;\n        min-height: 211px;\n        width: 311px;\n        border-radius: 8px;\n        padding: 22px 13px;\n        margin: 20px 6px;\n        box-shadow: 2px 2px 5px #444444ee;\n      }\n      .card:hover{\n        cursor:pointer;\n      }\n      .card-active{\n        border: 3px solid #000;\n      }\n      .card__text{\n        flex-grow:1;\n      }\n      .task-done{\n        text-decoration:line-through;\n      }\n      .card__functions{\n        display:flex;\n        flex-direction: column;\n        justify-content: space-around;\n      }\n      .card__checkbox, .card__trash{\n        width: 21px;\n        height: 21px;\n      }\n      .card__trash {\n        display: none;\n      }\n      .show-trash{\n        display:block;\n      }\n      ",this.shadow.appendChild(e)}render(){const e=document.createElement("div"),t=this.shadow,n=this.textContent,r=this.getAttribute("id"),a=this.getAttribute("checked");let s;s="true"==a?"checked":"none",e.classList.add("card"),e.setAttribute("id",r),e.innerHTML=`\n      <p class="card__text">${n}</p>\n        <div class="card__functions">\n        <input class="card__checkbox" type="checkbox" ${s}>\n        <div class="card__trash">\n          <img src=${c}>\n        </div>\n        </div>\n        `;const i=e.querySelector(".card__checkbox");"true"===a?e.querySelector(".card__text").classList.add("task-done"):"false"===a&&e.querySelector(".card__text").classList.remove("task-done"),i.addEventListener("change",(function(t){e.querySelector(".card__text").classList.toggle("task-done"),o.checkedNote(Number(r),this.checked)})),e.addEventListener("click",(t=>{e.querySelector(".card__trash").classList.toggle("show-trash"),e.classList.toggle("card-active")})),e.querySelector(".card__trash").addEventListener("click",(()=>{o.deleteNote(Number(r))})),t.appendChild(e)}}customElements.define("card-note",e)}(),document.querySelector(".form-new-note").addEventListener("submit",(e=>{e.preventDefault();const t=e.target[0].value;o.addNewNote(t),e.target[0].value=""}));
//# sourceMappingURL=index.6f071d89.js.map
